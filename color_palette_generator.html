<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farbpaletten Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 40px auto;
            padding: 20px;
            background: linear-gradient(135deg, rgba(106, 160, 177, 0.15) 0%, rgba(106, 160, 177, 0.05) 100%);
            min-height: 100vh;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #6aa0b1;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: #5a90a1;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 2.2em;
            font-weight: 600;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
            font-size: 14px;
        }

        input[type="color"] {
            width: 100%;
            height: 50px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
        }

        select, button {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
            cursor: pointer;
        }

        select:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: #667eea;
            color: white;
            border: none;
            font-weight: 600;
            transition: all 0.3s;
        }

        button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .palette-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .color-card {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s;
            cursor: pointer;
        }

        .color-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .color-preview {
            height: 120px;
            position: relative;
        }

        .color-info {
            background: white;
            padding: 15px;
        }

        .color-hex {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
            font-size: 1.1em;
        }

        .color-rgb {
            font-size: 0.85em;
            color: #7f8c8d;
        }

        .harmony-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .harmony-info h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .harmony-info p {
            color: #555;
            line-height: 1.6;
        }

        .export-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .export-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .export-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .export-buttons button {
            flex: 1;
            min-width: 120px;
        }

        .contrast-checker {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border: 2px solid #e0e0e0;
        }

        .contrast-checker h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .contrast-result {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .contrast-box {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .contrast-ratio {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .contrast-rating {
            font-size: 0.9em;
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
            margin-top: 5px;
        }

        .rating-pass {
            background: #2ecc71;
            color: white;
        }

        .rating-fail {
            background: #e74c3c;
            color: white;
        }

        .color-wheel {
            width: 250px;
            height: 250px;
            margin: 20px auto;
            border-radius: 50%;
            background: conic-gradient(
                red, yellow, lime, cyan, blue, magenta, red
            );
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }

        textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            min-height: 100px;
        }

        .copy-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2ecc71;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s;
            pointer-events: none;
        }

        .copy-notification.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Zurück zur Übersicht</a>
    <h1>Farbpaletten Generator</h1>
    <div class="subtitle">Erstelle harmonische Farbpaletten für dein Design</div>

    <div class="container">
        <div class="controls">
            <div class="control-group">
                <label for="baseColor">Basisfarbe</label>
                <input type="color" id="baseColor" value="#667eea">
            </div>

            <div class="control-group">
                <label for="harmonyType">Farbharmonie</label>
                <select id="harmonyType" onchange="generatePalette()">
                    <option value="monochromatic">Monochromatisch</option>
                    <option value="analogous">Analog</option>
                    <option value="complementary">Komplementär</option>
                    <option value="triadic">Triadisch</option>
                    <option value="tetradic">Tetradisch</option>
                    <option value="split-complementary">Split-Komplementär</option>
                </select>
            </div>

            <div class="control-group">
                <label>&nbsp;</label>
                <button onclick="generatePalette()">Palette generieren</button>
            </div>

            <div class="control-group">
                <label>&nbsp;</label>
                <button onclick="randomColor()">Zufällige Farbe</button>
            </div>
        </div>

        <div class="harmony-info" id="harmonyInfo">
            <h3>Monochromatisch</h3>
            <p>Verwendet verschiedene Töne, Schattierungen und Helligkeiten einer einzigen Farbe. Erzeugt ein sauberes, elegantes Aussehen.</p>
        </div>

        <div class="palette-display" id="paletteDisplay">
            <!-- Colors will be generated here -->
        </div>

        <div class="contrast-checker">
            <h3>Kontrast-Checker</h3>
            <p style="color: #555; margin-bottom: 15px;">Wähle zwei Farben aus der Palette, um den Kontrast zu prüfen:</p>
            <div class="controls">
                <div class="control-group">
                    <label for="fgColor">Vordergrundfarbe</label>
                    <input type="color" id="fgColor" value="#667eea">
                </div>
                <div class="control-group">
                    <label for="bgColor">Hintergrundfarbe</label>
                    <input type="color" id="bgColor" value="#ffffff">
                </div>
            </div>
            <div class="contrast-result" id="contrastResult">
                <!-- Contrast results will be shown here -->
            </div>
        </div>

        <div class="export-section">
            <h3>Export</h3>
            <div class="export-buttons">
                <button onclick="exportCSS()">Als CSS</button>
                <button onclick="exportJSON()">Als JSON</button>
                <button onclick="exportSCSS()">Als SCSS</button>
                <button onclick="copyHexCodes()">Hex-Codes kopieren</button>
            </div>
            <textarea id="exportOutput" readonly style="margin-top: 15px;"></textarea>
        </div>
    </div>

    <div class="copy-notification" id="copyNotification">In Zwischenablage kopiert!</div>

    <script>
        let currentPalette = [];
        const baseColorInput = document.getElementById('baseColor');
        const harmonyTypeSelect = document.getElementById('harmonyType');

        baseColorInput.addEventListener('input', generatePalette);
        document.getElementById('fgColor').addEventListener('input', checkContrast);
        document.getElementById('bgColor').addEventListener('input', checkContrast);

        const harmonyDescriptions = {
            'monochromatic': {
                title: 'Monochromatisch',
                description: 'Verwendet verschiedene Töne, Schattierungen und Helligkeiten einer einzigen Farbe. Erzeugt ein sauberes, elegantes Aussehen.'
            },
            'analogous': {
                title: 'Analog',
                description: 'Verwendet Farben, die nebeneinander auf dem Farbkreis liegen. Harmonisch und angenehm für das Auge.'
            },
            'complementary': {
                title: 'Komplementär',
                description: 'Verwendet Farben, die sich auf dem Farbkreis gegenüberliegen. Erzeugt hohen Kontrast und Energie.'
            },
            'triadic': {
                title: 'Triadisch',
                description: 'Verwendet drei gleichmäßig verteilte Farben auf dem Farbkreis. Lebendig und ausgewogen.'
            },
            'tetradic': {
                title: 'Tetradisch',
                description: 'Verwendet vier Farben in zwei komplementären Paaren. Bietet viele Möglichkeiten.'
            },
            'split-complementary': {
                title: 'Split-Komplementär',
                description: 'Verwendet eine Basisfarbe und die beiden Farben neben ihrer Komplementärfarbe. Hoher Kontrast, aber nicht so extrem.'
            }
        };

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }

        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;

            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);

                switch (max) {
                    case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                    case g: h = ((b - r) / d + 2) / 6; break;
                    case b: h = ((r - g) / d + 4) / 6; break;
                }
            }

            return { h: h * 360, s: s * 100, l: l * 100 };
        }

        function hslToRgb(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;

            let r, g, b;

            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1/6) return p + (q - p) * 6 * t;
                    if (t < 1/2) return q;
                    if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                    return p;
                };

                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;

                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }

            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        function generatePalette() {
            const baseColor = baseColorInput.value;
            const harmonyType = harmonyTypeSelect.value;
            const rgb = hexToRgb(baseColor);
            const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);

            currentPalette = [];

            switch (harmonyType) {
                case 'monochromatic':
                    currentPalette = generateMonochromatic(hsl);
                    break;
                case 'analogous':
                    currentPalette = generateAnalogous(hsl);
                    break;
                case 'complementary':
                    currentPalette = generateComplementary(hsl);
                    break;
                case 'triadic':
                    currentPalette = generateTriadic(hsl);
                    break;
                case 'tetradic':
                    currentPalette = generateTetradic(hsl);
                    break;
                case 'split-complementary':
                    currentPalette = generateSplitComplementary(hsl);
                    break;
            }

            displayPalette();
            updateHarmonyInfo();
        }

        function generateMonochromatic(hsl) {
            const colors = [];
            for (let i = 0; i < 5; i++) {
                const lightness = 90 - (i * 18);
                const rgb = hslToRgb(hsl.h, hsl.s, lightness);
                colors.push(rgbToHex(rgb.r, rgb.g, rgb.b));
            }
            return colors;
        }

        function generateAnalogous(hsl) {
            const colors = [];
            const angles = [-30, -15, 0, 15, 30];
            angles.forEach(angle => {
                const newHue = (hsl.h + angle + 360) % 360;
                const rgb = hslToRgb(newHue, hsl.s, hsl.l);
                colors.push(rgbToHex(rgb.r, rgb.g, rgb.b));
            });
            return colors;
        }

        function generateComplementary(hsl) {
            const colors = [];
            const baseRgb = hslToRgb(hsl.h, hsl.s, hsl.l);
            colors.push(rgbToHex(baseRgb.r, baseRgb.g, baseRgb.b));

            // Lighter and darker versions of base
            const lightRgb = hslToRgb(hsl.h, hsl.s, Math.min(hsl.l + 20, 90));
            const darkRgb = hslToRgb(hsl.h, hsl.s, Math.max(hsl.l - 20, 10));
            colors.push(rgbToHex(lightRgb.r, lightRgb.g, lightRgb.b));
            colors.push(rgbToHex(darkRgb.r, darkRgb.g, darkRgb.b));

            // Complementary
            const compHue = (hsl.h + 180) % 360;
            const compRgb = hslToRgb(compHue, hsl.s, hsl.l);
            colors.push(rgbToHex(compRgb.r, compRgb.g, compRgb.b));

            const compLightRgb = hslToRgb(compHue, hsl.s, Math.min(hsl.l + 20, 90));
            colors.push(rgbToHex(compLightRgb.r, compLightRgb.g, compLightRgb.b));

            return colors;
        }

        function generateTriadic(hsl) {
            const colors = [];
            const angles = [0, 120, 240];
            angles.forEach(angle => {
                const newHue = (hsl.h + angle) % 360;
                const rgb = hslToRgb(newHue, hsl.s, hsl.l);
                colors.push(rgbToHex(rgb.r, rgb.g, rgb.b));

                // Add lighter version
                const lightRgb = hslToRgb(newHue, hsl.s, Math.min(hsl.l + 20, 90));
                colors.push(rgbToHex(lightRgb.r, lightRgb.g, lightRgb.b));
            });
            return colors.slice(0, 5);
        }

        function generateTetradic(hsl) {
            const colors = [];
            const angles = [0, 90, 180, 270];
            angles.forEach(angle => {
                const newHue = (hsl.h + angle) % 360;
                const rgb = hslToRgb(newHue, hsl.s, hsl.l);
                colors.push(rgbToHex(rgb.r, rgb.g, rgb.b));
            });
            // Add one more variation
            const rgb = hslToRgb(hsl.h, hsl.s, Math.min(hsl.l + 20, 90));
            colors.push(rgbToHex(rgb.r, rgb.g, rgb.b));
            return colors;
        }

        function generateSplitComplementary(hsl) {
            const colors = [];
            const baseRgb = hslToRgb(hsl.h, hsl.s, hsl.l);
            colors.push(rgbToHex(baseRgb.r, baseRgb.g, baseRgb.b));

            const lightRgb = hslToRgb(hsl.h, hsl.s, Math.min(hsl.l + 20, 90));
            colors.push(rgbToHex(lightRgb.r, lightRgb.g, lightRgb.b));

            // Split complementary colors
            const comp1Hue = (hsl.h + 150) % 360;
            const comp2Hue = (hsl.h + 210) % 360;

            const comp1Rgb = hslToRgb(comp1Hue, hsl.s, hsl.l);
            const comp2Rgb = hslToRgb(comp2Hue, hsl.s, hsl.l);

            colors.push(rgbToHex(comp1Rgb.r, comp1Rgb.g, comp1Rgb.b));
            colors.push(rgbToHex(comp2Rgb.r, comp2Rgb.g, comp2Rgb.b));

            const darkRgb = hslToRgb(hsl.h, hsl.s, Math.max(hsl.l - 20, 10));
            colors.push(rgbToHex(darkRgb.r, darkRgb.g, darkRgb.b));

            return colors;
        }

        function displayPalette() {
            const display = document.getElementById('paletteDisplay');
            display.innerHTML = '';

            currentPalette.forEach(color => {
                const card = document.createElement('div');
                card.className = 'color-card';
                card.onclick = () => copyToClipboard(color);

                const rgb = hexToRgb(color);
                const preview = document.createElement('div');
                preview.className = 'color-preview';
                preview.style.backgroundColor = color;

                const info = document.createElement('div');
                info.className = 'color-info';

                const hex = document.createElement('div');
                hex.className = 'color-hex';
                hex.textContent = color.toUpperCase();

                const rgbText = document.createElement('div');
                rgbText.className = 'color-rgb';
                rgbText.textContent = `RGB(${rgb.r}, ${rgb.g}, ${rgb.b})`;

                info.appendChild(hex);
                info.appendChild(rgbText);

                card.appendChild(preview);
                card.appendChild(info);

                display.appendChild(card);
            });
        }

        function updateHarmonyInfo() {
            const harmonyType = harmonyTypeSelect.value;
            const info = harmonyDescriptions[harmonyType];
            const infoDiv = document.getElementById('harmonyInfo');

            infoDiv.innerHTML = `
                <h3>${info.title}</h3>
                <p>${info.description}</p>
            `;
        }

        function randomColor() {
            const randomHex = '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');
            baseColorInput.value = randomHex;
            generatePalette();
        }

        function checkContrast() {
            const fg = document.getElementById('fgColor').value;
            const bg = document.getElementById('bgColor').value;

            const fgRgb = hexToRgb(fg);
            const bgRgb = hexToRgb(bg);

            const ratio = calculateContrastRatio(fgRgb, bgRgb);

            const resultDiv = document.getElementById('contrastResult');
            resultDiv.innerHTML = `
                <div class="contrast-box" style="background: ${bg}; color: ${fg};">
                    <div style="font-size: 1.2em; font-weight: bold;">Beispieltext</div>
                    <div>Normal Text</div>
                </div>
                <div>
                    <div class="contrast-ratio">${ratio.toFixed(2)}:1</div>
                    <div style="color: #555;">
                        <strong>WCAG AA:</strong><br>
                        Normal: <span class="contrast-rating ${ratio >= 4.5 ? 'rating-pass' : 'rating-fail'}">
                            ${ratio >= 4.5 ? 'Bestanden' : 'Nicht bestanden'}
                        </span><br>
                        Groß: <span class="contrast-rating ${ratio >= 3 ? 'rating-pass' : 'rating-fail'}">
                            ${ratio >= 3 ? 'Bestanden' : 'Nicht bestanden'}
                        </span>
                    </div>
                    <div style="color: #555; margin-top: 10px;">
                        <strong>WCAG AAA:</strong><br>
                        Normal: <span class="contrast-rating ${ratio >= 7 ? 'rating-pass' : 'rating-fail'}">
                            ${ratio >= 7 ? 'Bestanden' : 'Nicht bestanden'}
                        </span><br>
                        Groß: <span class="contrast-rating ${ratio >= 4.5 ? 'rating-pass' : 'rating-fail'}">
                            ${ratio >= 4.5 ? 'Bestanden' : 'Nicht bestanden'}
                        </span>
                    </div>
                </div>
            `;
        }

        function calculateContrastRatio(rgb1, rgb2) {
            const l1 = getRelativeLuminance(rgb1);
            const l2 = getRelativeLuminance(rgb2);

            const lighter = Math.max(l1, l2);
            const darker = Math.min(l1, l2);

            return (lighter + 0.05) / (darker + 0.05);
        }

        function getRelativeLuminance(rgb) {
            const rsRGB = rgb.r / 255;
            const gsRGB = rgb.g / 255;
            const bsRGB = rgb.b / 255;

            const r = rsRGB <= 0.03928 ? rsRGB / 12.92 : Math.pow((rsRGB + 0.055) / 1.055, 2.4);
            const g = gsRGB <= 0.03928 ? gsRGB / 12.92 : Math.pow((gsRGB + 0.055) / 1.055, 2.4);
            const b = bsRGB <= 0.03928 ? bsRGB / 12.92 : Math.pow((bsRGB + 0.055) / 1.055, 2.4);

            return 0.2126 * r + 0.7152 * g + 0.0722 * b;
        }

        function exportCSS() {
            let css = ':root {\n';
            currentPalette.forEach((color, index) => {
                css += `  --color-${index + 1}: ${color};\n`;
            });
            css += '}';
            document.getElementById('exportOutput').value = css;
        }

        function exportJSON() {
            const json = JSON.stringify({ colors: currentPalette }, null, 2);
            document.getElementById('exportOutput').value = json;
        }

        function exportSCSS() {
            let scss = '';
            currentPalette.forEach((color, index) => {
                scss += `$color-${index + 1}: ${color};\n`;
            });
            document.getElementById('exportOutput').value = scss;
        }

        function copyHexCodes() {
            const hexCodes = currentPalette.join(', ');
            document.getElementById('exportOutput').value = hexCodes;
            copyToClipboard(hexCodes);
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification();
            });
        }

        function showNotification() {
            const notification = document.getElementById('copyNotification');
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // Initialize
        generatePalette();
        checkContrast();
    </script>
</body>
</html>
